# 2.4 框架表示法（Frame-based Representation）

---

## 2.4.1 框架（Frame）

### 框架的定义  
> 一种**结构化**、**层次化**的知识单元，用于描述**某一类对象、概念或事件**的**属性（槽）**及其**取值、约束、默认值、附属过程**等。  
> 又称**槽-填充物（slot-filler）结构**，最早由 M. Minsky 提出。

**形式化骨架**：
```
框架名
├─ 槽1（slot）
│  ├─ 值 / 默认值
│  ├─ 类型约束
│  ├─ 取值范围
│  └─ 触发过程（if-needed / if-added / if-removed）
├─ 槽2
└─ …
```

---

### 经典例子

| 框架名       | 槽示例                                    | 实例片段                                     |
| ------------ | ----------------------------------------- | -------------------------------------------- |
| `Student`    | `name`, `age`, `major`, `GPA`             | `name: Alice; major: CS; GPA: 3.7`           |
| `Laptop`     | `brand`, `cpu`, `ram`, `price`            | `brand: Dell; cpu: i7; ram: 16 GB`           |
| `Earthquake` | `magnitude`, `epicenter`, `depth`, `time` | `magnitude: 5.8; epicenter: (39.1°, 116.3°)` |

---

### 记忆口诀  
> **“一框架一概念，槽里存属性；默认约束加过程，继承也能用。”**

---

## 2.4.2 框架系统（Frame System）

### 框架系统的定义  
> 由**框架库** + **继承层次** + **推理机制**组成的完整知识表示与推理环境。  
> 通过**ISA / AKO（a-kind-of）**链接形成**语义网络**，支持**属性继承**、**约束检查**、**附属过程调用**。

---

#### 形式化描述
```
框架系统 = (F, H, I)
```
- **F**：框架库（所有框架实例与模式）。  
- **H**：层次关系（ISA / Part-of / AKO 等）。  
- **I**：推理机（继承推理、约束验证、触发过程）。

**三步循环**：  
**匹配槽值 → 继承补全 → 触发过程**（直到无新信息可生成）。

---

#### 推理方向
| 方向         | 机制                              | 用途               |
| ------------ | --------------------------------- | ------------------ |
| **自顶向下** | 一般框架 → 特例框架（继承默认值） | 快速生成原型对象   |
| **自底向上** | 具体实例 → 抽象框架（分类）       | 模式识别、概念形成 |

---

#### 最小可运行伪代码
```python
def fill_frame(instance, frame_template):
    for slot in frame_template.slots:
        if slot.name not instance:
            instance[slot.name] = slot.default       # 继承默认值
        if slot.constraint and not slot.validate(instance[slot.name]):
            raise ConstraintError
        if slot.if_needed:                            # 按需计算
            instance[slot.name] = slot.if_needed()
```

---

#### 一句话速记  
> **“框架成网，ISA 成链；槽值缺了往上继承，过程触发按需计算。”**

---

## 2.4.3 框架表示法的特点

### 1. 优点
| 优点                 | 说明                                     |
| -------------------- | ---------------------------------------- |
| **结构化强**         | 属性-值-约束-过程一体化，贴近人类认知。  |
| **继承机制**         | 通过 ISA 减少冗余，支持默认推理。        |
| **模块化**           | 单个框架可独立增删改，维护方便。         |
| **易与面向对象对接** | 类-属性-方法映射自然，可直接映射到 OOP。 |

### 2. 缺点
| 缺点             | 说明                                            |
| ---------------- | ----------------------------------------------- |
| **灵活性低**     | 槽结构固定，难以表示**非模板化**知识。          |
| **推理能力弱**   | 缺乏**复杂逻辑联结**（∀、∃、嵌套蕴含）。        |
| **冲突解决复杂** | 多重继承时默认值/约束可能**矛盾**，需额外策略。 |
| **构建成本高**   | 初期需人工设计**完整槽体系**，工作量大。        |

---

## 2.4.4 框架表示法适合表示的知识

| 知识维度        | 适合理由                            | 典型实例                           |
| --------------- | ----------------------------------- | ---------------------------------- |
| **概念-实体型** | 对象属性多且稳定，适合“槽-值”描述   | 人物简历、产品规格、设备参数       |
| **分类层次型**  | 天然 ISA 树，继承机制可大幅缩减规则 | 生物分类、公司组织架构             |
| **默认-例外型** | 多数实例共享默认值，少数需覆盖      | 鸟会飞（默认），企鹅不会飞（例外） |
| **结构化事件**  | 事件脚本有固定角色/阶段             | 出差申请：申请人-行程-预算-审批    |
| **配置型知识**  | 组件-属性-约束一目了然              | 电脑装机：CPU-主板-内存兼容性      |

---

### 不太适合的反例
- **强逻辑关联**（∀、∃、深层因果）：用一阶谓词或产生式。  
- **高动态流数据**（传感器实时流）：用事件流/规则引擎。  
- **数值计算密集**（PD 控制、深度学习权重）：用数学模型。

---

### 一句话总结  
> **“只要知识是‘对象+属性+分类+默认值’，框架就能把它结构化、继承化、对象化。”**