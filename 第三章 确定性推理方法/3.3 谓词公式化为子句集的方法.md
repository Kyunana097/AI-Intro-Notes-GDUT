# 3.3 谓词公式化为子句集的方法



## 一、基础概念

- **子句**：由原子谓词公式及其否定（文字）通过析取（∨）连接而成的公式，如P(x)∨¬Q(y)。

- **空子句**：不含任何文字的子句（记为□），代表矛盾，是子句集中不可满足的标志。

- **子句集**：由子句构成的集合，谓词公式化为子句集后，原公式的不可满足性等价于子句集的不可满足性（便于后续归结推理）。

## 二、核心转化步骤（7 步）

谓词公式转化需遵循 “消除特殊联结词→标准化量词→消去存在量词→全称量词前置→化为合取范式→消去全称量词→子句集拆分” 的流程，以下结合示例（原公式：∃x∀y[P(x,y)→¬(∀zQ(y,z)→R(x))]）详细说明：

### 步骤 1：消除蕴含（→）和等价（↔）联结词

利用逻辑等价式：A→B ≡ ¬A∨B、A↔B ≡ (A→B)∧(B→A)，消去公式中所有→和↔。

示例转化：

原公式中P(x,y)→¬(...) ≡ ¬P(x,y)∨¬(...)；

内层∀zQ(y,z)→R(x) ≡ ¬∀zQ(y,z)∨R(x)；

代入后公式变为：∃x∀y[¬P(x,y)∨¬(¬∀zQ(y,z)∨R(x))]。

### 步骤 2：将否定（¬）符号移到原子谓词公式前

利用德摩根定律（¬(A∨B)≡¬A∧¬B、¬(A∧B)≡¬A∨¬B）和量词否定等价式（¬∀xA≡∃x¬A、¬∃xA≡∀x¬A），使否定符号仅作用于原子谓词。

示例转化：

对¬(¬∀zQ(y,z)∨R(x))应用德摩根定律，得∀zQ(y,z)∧¬R(x)；

代入后公式变为：∃x∀y[¬P(x,y)∨(∀zQ(y,z)∧¬R(x))]。

### 步骤 3：标准化变元（避免同名冲突）

确保公式中每个量词的约束变元名称唯一，不与其他量词的约束变元或自由变元重名。

示例说明：

原公式中x（∃约束）、y（∀约束）、z（∀约束）名称已唯一，无需修改；若存在∀xP(x)∧∀xQ(x)，需改为∀xP(x)∧∀yQ(y)。

### 步骤 4：消去存在量词（Skolem 化）

根据存在量词的位置，用**Skolem 函数**或**Skolem 常量**替换存在量词约束的变元，消去所有∃：

- 若∃x在∀y1,∀y2,...之后（受全称量词约束），则x替换为f(y1,y2,...)（Skolem 函数，参数为前面所有全称量词的约束变元）；

- 若∃x无全称量词前缀（公式最外层），则x替换为常量a（Skolem 常量）。

示例转化：

原公式中∃x在最外层（无全称量词前缀），将x替换为 Skolem 常量a；

消去∃x后公式变为：∀y[¬P(a,y)∨(∀zQ(y,z)∧¬R(a))]。

### 步骤 5：将所有全称量词移到公式最前端（前束范式）

由于消去存在量词后仅剩全称量词，直接将所有∀移至公式开头，形成 “全称量词前缀 + 无量词母式” 的前束范式（可省略全称量词符号，默认变量均受全称约束）。

示例转化：

将∀y和∀z移到前端，公式变为：∀y∀z[¬P(a,y)∨(Q(y,z)∧¬R(a))]；

省略全称量词后：¬P(a,y)∨(Q(y,z)∧¬R(a))。

### 步骤 6：将母式化为合取范式（CNF）

利用分配律（A∨(B∧C)≡(A∨B)∧(A∨C)），将无量词母式转化为 “子句∧子句∧...∧子句” 的形式（合取范式）。

示例转化：

对¬P(a,y)∨(Q(y,z)∧¬R(a))应用分配律，得：

(¬P(a,y)∨Q(y,z))∧(¬P(a,y)∨¬R(a))（两个子句的合取）。

### 步骤 7：消去合取符号，得到子句集

将合取范式中的∧替换为逗号，每个子句独立作为集合元素，最终形成子句集。

示例转化：

去掉∧后，子句集为：

{ ¬P(a,y)∨Q(y,z), ¬P(a,y)∨¬R(a) }。

## 三、注意事项

1. **Skolem 化的唯一性**：Skolem 函数 / 常量的名称需唯一，且不与公式中其他符号冲突（如示例中用a，不用x/y）。

1. **等价性限制**：子句集与原公式 “不可满足性等价”，但 “真值不等价”（Skolem 化会丢失存在量词的存在性信息）。

1. **变元自由性**：子句集中的变量默认受全称约束，无需标注∀；若原公式有自由变元，需视为受全称约束后再转化。