# 2.2.1 命题

### 命题（Proposition）

**定义**：能够**唯一确定**真值（真或假）的**陈述句**。

- 必须**有真值**；
- 必须**无歧义**；
- 不包含**自由变量**。

------

#### ✅ 是命题的例子

表格

复制

| 陈述句             | 真值 | 备注                         |
| :----------------- | :--- | :--------------------------- |
| `2 + 3 = 5`        | 真   | 数学恒等式                   |
| `北京是中国的首都` | 真   | 事实                         |
| `月亮是奶酪做的`   | 假   | 与事实不符，但**有确定真值** |

------

#### ❌ 不是命题的例子

表格

复制

| 陈述句         | 原因                           |
| :------------- | :----------------------------- |
| `x + 1 = 3`    | 含自由变量 `x`，真值不确定     |
| `请关窗！`     | 祈使句，无真值                 |
| `今天好冷啊？` | 疑问句，无真值                 |
| `这句话是假的` | 悖论（自指），无法赋予确定真值 |

# 2.2.2 谓词

谓词的一般表示形式 ***P***(*x<sub>1</sub>,x<sub>2</sub>,..., x<sub>n</sub>* )

其中***P***为谓词名 *x<sub>1</sub>,x<sub>2</sub>,..., x<sub>n</sub>*是个体

| 形态                   | 示例                    | 说明                                   |
| ---------------------- | ----------------------- | -------------------------------------- |
| **个体变元**（变量）   | x, y, z                 | 可被量词 ∀、∃ 绑定，本身不指特定对象。 |
| **个体函数**（函数项） | mother(Alice), add(x,1) | 先对变元/常量求值，再返回一个新个体。  |
| **个体常量**（常量）   | Alice, 0, π             | 固定指称某个特定对象，不可再分解。     |

| 维度                       | 谓词 (Predicate)                                      | 函数 (Function)                                              |
| -------------------------- | ----------------------------------------------------- | ------------------------------------------------------------ |
| **语法类别**               | **公式**（可带真值）                                  | **项**（无真值，只代表一个“对象”）                           |
| **返回值语义**             | **真/假**（True/False）                               | **某个论域中的个体**（常量、数、结构……）                     |
| **能否被否定、蕴涵、量化** | ✅ 可以直接放在 `¬`、`∧`、`∨`、`→`、`∀`、`∃` 里        | ❌ 不能；它只是一个**项**，必须再包进谓词才能形成公式         |
| **出现在哪里**             | 原子公式                                              | 项（term）内部                                               |
| **例子**                   | `Parent(Alice, Bob)` 为真当且仅当 Alice 是 Bob 的父母 | `mother(Alice)` 返回常量 `Alice的母亲`；本身没有真值         |
| **一阶逻辑写法**           | `P(t₁,…,tₙ)` 直接是**合式公式**                       | 只能作为 `P(…, f(t₁,…,tₖ), …)` 里的参数                      |
| **Prolog 示例**            | `parent(alice, bob).` 可查询 `?- parent(alice, X).`   | `mother(alice)` 出现在 `parent(mother(alice), alice).` 中，返回一个变量绑定 |

**谓词问“真不真”，函数问“是什么”**

# 2.2.3 谓词公式

## 1.连接词

| 结构类型   | 示例公式                       | 读法                          | 真值条件 / 备注                              |
| ---------- | ------------------------------ | ----------------------------- | -------------------------------------------- |
| 原子谓词   | `Likes(Alice, Bob)`            | “Alice 喜欢 Bob”              | 由解释域和事实决定；不可再分                 |
| 等式谓词   | `x = y`                        | “x 与 y 相同”                 | 在解释下 x、y 指同一对象则为真               |
| 否定式     | `¬Likes(Alice, Bob)`           | “Alice 不喜欢 Bob”            | 原公式为假则真                               |
| 合取       | `Likes(x, y) ∧ Likes(y, x)`    | “x 喜欢 y 且 y 也喜欢 x”      | 两 conjunct 皆真                             |
| 析取       | `Cat(x) ∨ Dog(x)`              | “x 是猫或狗”                  | 至少一个 disjunct 为真                       |
| 蕴含       | `Cat(x) → Mammal(x)`           | “若 x 是猫则 x 是哺乳动物”    | 前件真后件假时整句假；其余真                 |
| 等价       | `Prime(x) ↔ ¬Even(x)`          | “x 是素数当且仅当 x 不是偶数” | 左右同真值则真                               |
| 存在量化   | `∃x (Cat(x) ∧ Black(x))`       | “存在黑猫”                    | 论域中至少有一个对象满足体公式               |
| 全称量化   | `∀x (Cat(x) → Mammal(x))`      | “所有猫都是哺乳动物”          | 论域中所有对象：若前件真则后件必真           |
| 唯一存在   | `∃!x King(x)`                  | “存在唯一的国王”              | 论域中**恰好**一个对象满足 King              |
| 嵌套函数项 | `Older(mother(x), x)`          | “x 的母亲比 x 年长”           | mother(x) 是函数项，先求值再代入谓词         |
| 高阶谓词\* | `Transitive(Greater)`          | “Greater 关系是传递的”        | 谓词 Greater 作为参数（某些高阶逻辑允许）    |
| 等词公理   | `∀x∀y (x = y → (P(x) ↔ P(y)))` | “等词可替换性”                | 保证同一对象可处处替换                       |
| 克林闭包   | `Connected*(a,b)`              | “a 到 b 可达”                 | 带 \* 谓词常表示自反传递闭包（逻辑程序常见） |

## 2.量词

### 量词（Quantifier）

**定义**：作用于**个体变元**，规定该变元在**论域**中的**取值范围**，从而使含有自由变元的谓词公式成为**真值确定**的闭合公式（语句）。

逻辑系统里主要有两种：

1. **全称量词 ∀**
	读作“对于所有”、“任意”。
	公式 `∀x P(x)` 为真 **当且仅当** 论域里**每一个**个体都满足 `P`。
2. **存在量词 ∃**
	读作“存在”、“至少有一个”。
	公式 `∃x P(x)` 为真 **当且仅当** 论域里**至少有一个**个体满足 `P`。

（扩展：唯一存在量词 `∃!` 表示“恰有一个”。）

##### 优先顺序

| 优先级 | 联结词 | 说明                         |
| ------ | ------ | ---------------------------- |
| 1      | ¬      | 否定（右结合，作用范围最小） |
| 2      | ∧      | 合取                         |
| 3      | ∨      | 析取                         |
| 4      | →      | 蕴含（右结合）               |
| 5      | ↔      | 等价（最低）                 |

 ∃, ∀ 量化符优先级**与 ¬ 同级**，即**高于所有二元联结词**。

## 2.2.4 谓词公式的性质

| 性质                 | 定义/说明                                                    | 示例/备注                                |
| -------------------- | ------------------------------------------------------------ | ---------------------------------------- |
| **递归构造性**       | 由原子公式经有限次 ¬、∧、∨、→、↔、∀、∃ 构成                  | P(x) → ∀y Q(y) 是合法公式                |
| **真值依赖性**       | 真值取决于**解释**（论域+谓词映射+常量指派）                 | 同一公式在不同解释下可真可假             |
| **自由 vs 绑定**     | 变元可被量词绑定；含自由变元的是**开公式**，否则为**闭公式** | ∀x P(x,y) 中 y 自由，x 绑定              |
| **可满足性**         | 存在至少一个解释使其为真                                     | ∃x P(x) 通常可满足                       |
| **有效性**（永真性） | **所有解释**下皆为真                                         | ∀x (P(x) ∨ ¬P(x)) 有效（排中律）         |
| **不可判定性**       | 一般情形下，闭公式的普遍有效/可满足问题**半可判定**（Church-Turing） | 存在算法：若有效必停机；若无效可能永不停 |
| **替换定理**         | 等值公式可互相替换而不改变真值                               | (ϕ↔ψ) ⇒ 可用 ψ 替换 ϕ                    |
| **量词对偶律**       | ¬∀x P(x) ≡ ∃x ¬P(x)  ¬∃x P(x) ≡ ∀x ¬P(x)                     | 德摩根律在量词上的推广                   |
| **约束变元改名**     | 绑定变元可安全重命名，避免与自由变元冲突                     | ∀x P(x) ≡ ∀y P(y)                        |
| **封闭语义**         | 闭公式在固定解释下**真值唯一**，不依赖变量赋值               | 因而可作为**知识库语句**                 |

### 1.一阶逻辑常见**主要等价式**（重言式/等值式）

> 符号说明：  
> `≡` 表示“逻辑等价”；  
> `P`, `Q` 可为含自由变元的任意公式；  
> `x` 不在 `Q` 中自由出现（避免捕获）时，量词分配式成立。

#### 1. 命题逻辑延伸
| 名称     | 等价式                             |
| -------- | ---------------------------------- |
| 双重否定 | `¬¬P ≡ P`                          |
| 德摩根   | `¬(P∧Q) ≡ ¬P∨¬Q`；`¬(P∨Q) ≡ ¬P∧¬Q` |
| 蕴含消除 | `P→Q ≡ ¬P∨Q`                       |
| 等价消除 | `P↔Q ≡ (P→Q)∧(Q→P)`                |
| 逆否     | `P→Q ≡ ¬Q→¬P`                      |

#### 2. 量词对偶（德摩根型）
| 名称     | 等价式                |
| -------- | --------------------- |
| 全称否定 | `¬∀x P(x) ≡ ∃x ¬P(x)` |
| 存在否定 | `¬∃x P(x) ≡ ∀x ¬P(x)` |

#### 3. 量词分配与提取
| 条件                  | 等价式                         |
| --------------------- | ------------------------------ |
| `x` 不在 `Q` 自由出现 | `∀x (P∧Q) ≡ ∀x P ∧ Q`          |
| 同上                  | `∃x (P∨Q) ≡ ∃x P ∨ Q`          |
| 全称对 `∧` 分配       | `∀x (P∧Q) ≡ ∀x P ∧ ∀x Q`       |
| 存在对 `∨` 分配       | `∃x (P∨Q) ≡ ∃x P ∨ ∃x Q`       |
| **注意**              | `∀x (P∨Q)` **≢** `∀x P ∨ ∀x Q` |
| **注意**              | `∃x (P∧Q)` **≢** `∃x P ∧ ∃x Q` |

#### 4. 量词与蕴含
| 条件                  | 等价式                                     |
| --------------------- | ------------------------------------------ |
| `x` 不在 `Q` 自由出现 | `∀x (Q→P) ≡ Q→∀x P`                        |
| 同上                  | `∃x (Q→P) ≡ Q→∃x P`                        |
| 改名                  | `∀x P(x) ≡ ∀y P(y)`（y 不在 P 中自由出现） |

#### 5. 量词交换

| 名称           | 等价式                                    |
| -------------- | ----------------------------------------- |
| 同类型可交换   | `∀x∀y P ≡ ∀y∀x P`                         |
| 同类型可交换   | `∃x∃y P ≡ ∃y∃x P`                         |
| 混合**不**交换 | `∀x∃y P` **≢** `∃y∀x P`（前者弱，后者强） |

---

### 一句话速记

> **“否定翻量词，分配看联结；全称配与，存在配或；混合量词不随便换。”**

### 2.谓词逻辑常用**永真蕴含式**（Implication Tautologies）

> 符号：`ϕ ⊨ ψ` 或 `ϕ ⇒ ψ` 表示**在任何解释下，若 ϕ 真则 ψ 必真**；  
> 以下所有公式均为**闭公式**或**蕴含模式**，可安全用于自然演绎与消解证明。

| 编号 | 永真蕴含模式                          | 直观说明                     |
| ---- | ------------------------------------- | ---------------------------- |
| 1    | `∀x P(x) ⊨ P(t)` （t 为任意**基项**） | 全称实例化                   |
| 2    | `P(t) ⊨ ∃x P(x)`                      | 存在推广                     |
| 3    | `∀x P(x) ⊨ ∃x P(x)` （论域非空时）    | 全称强于存在                 |
| 4    | `∀x (P→Q) ⊨ ∀x P → ∀x Q`              | 分配蕴含方向                 |
| 5    | `∀x (P→Q) ⊨ ∃x P → ∃x Q`              | 存在保持蕴含                 |
| 6    | `∃x (P∧Q) ⊨ ∃x P ∧ ∃x Q`              | 存在对合取左分配             |
| 7    | `∀x P ∧ ∀x Q ⊨ ∀x (P∧Q)`              | 全称对合取双向等价           |
| 8    | `∃x∀y P(x,y) ⊨ ∀y∃x P(x,y)`           | 交换量词弱化方向             |
| 9    | `∀x (P(x)∨Q(x)) ⊨ ∀x P(x) ∨ ∃x Q(x)`  | 析取弱化                     |
| 10   | `¬∃x P(x) ⊨ ∀x ¬P(x)`                 | 量词对偶蕴含                 |
| 11   | `∃x ¬P(x) ⊨ ¬∀x P(x)`                 | 存在反例蕴含全称假           |
| 12   | `P→Q, Q→R ⊨ P→R`                      | 假言三段论（命题模式）       |
| 13   | `∀x (P(x)→Q(x)), P(c) ⊨ Q(c)`         | 全称假言推理（Modus Ponens） |
| 14   | `∀x (P(x)→Q(x)), ¬Q(c) ⊨ ¬P(c)`       | 全称拒取式（Modus Tollens）  |

---

### 使用提示
1. **1、2、13、14** 是日常自动证明中最频繁的**推理规则**。
2. **8** 说明“先存在后全称”比“先全称后存在”**更强**，不可反向。
3. 所有模式中的**自由变元**默认被**全称概括**（即视为闭公式）。